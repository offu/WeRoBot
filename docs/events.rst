Event
=========

Event 公共属性
--------------

除了 UnknownEvent, 每一种 Event 都包括以下属性:

=========== ===================================
name         value
=========== ===================================
message_id   消息id
target       开发者账号（ OpenID ）
source       发送方账号（ OpenID ）
time         信息发送的时间，一个UNIX时间戳。
raw          信息的原始 XML 格式
=========== ===================================

SubscribeEvent
--------------

SubscribeEvent 的属性:

======== ===================================
name      value
======== ===================================
type      'subscribe'
key       事件 key 值。 当且仅当未关注公众号扫描二维码时存在。
ticket    二维码的 ticket。 当且仅当未关注公众号扫描二维码时存在。
======== ===================================

UnSubscribeEvent
----------------

UnSubscribeEvent 的属性:

======== ===================================
name      value
======== ===================================
type      'unsubscribe'
======== ===================================

ScanEvent
----------------

UnSubscribeEvent 的属性:

======== ===================================
name      value
======== ===================================
type      'scan'
======== ===================================


ScanCodePushEvent
-----------------

ScanCodePushEvent 的属性:

============ ===================================
name          value
============ ===================================
type          'scancode_push_event'
scan_type     扫描类型，一般是qrcode
scan_result   扫描结果，即二维码对应的字符串信息
============ ===================================

ScanCodeWaitMsgEvent
--------------------

ScanCodeWaitMsgEvent 的属性:

============ ===================================
name          value
============ ===================================
type          'scancode_waitmsg'
scan_type     扫描类型，一般是qrcode
scan_result   扫描结果，即二维码对应的字符串信息
============ ===================================

ClickEvent
----------

ClickEvent 的属性:

======== ===================================
name      value
======== ===================================
type      'click'
key       事件 key 值。
======== ===================================

ViewEvent
---------

ViewEvent 的属性:

======== ===================================
name      value
======== ===================================
type      'view'
key       事件 key 值。
======== ===================================

LocationEvent
-------------

LocationEvent 的属性:

=========== ===================================
name        value
=========== ===================================
type        'location'
latitude    地理位置纬度
longitude   地理位置经度
precision   地理位置精度
=========== ===================================

TemplateSendJobFinishEvent
--------------------------

模版消息发送任务完成后的 Event 通知。 属性:

=========== ===================================
name         value
=========== ===================================
status       发送是否成功。为 'success' 或失败原因
=========== ===================================

UnknownEvent
------------

UnknownEvent 的属性:

========= =====================================
name       value
========= =====================================
type       'unknown'
raw        请求的正文部分。标准的XML格式。
========= =====================================


.. note:: 如果你不为 WeRoBot 贡献代码，你完全可以无视掉 UnknownEvent 。在正常的使用中，WeRoBot应该不会收到 `UnknownEvent` ——除非 WeRoBot 停止开发。
